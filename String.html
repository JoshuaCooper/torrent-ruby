<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: String</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./lib/bencode_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/bencode.rb">lib/bencode.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-bdecode">#bdecode</a></li>
          
          <li><a href="#method-i-bencode">#bencode</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./Array.html">Array</a></li>
        
          <li><a href="./Bignum.html">Bignum</a></li>
        
          <li><a href="./Fixnum.html">Fixnum</a></li>
        
          <li><a href="./Hash.html">Hash</a></li>
        
          <li><a href="./String.html">String</a></li>
        
          <li><a href="./TorrentFile.html">TorrentFile</a></li>
        
          <li><a href="./TrackerHandler.html">TrackerHandler</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">String</h1>

    <div id="description" class="description">
      
<p>Extensions to <a href="String.html">String</a>, <a
href="Fixnum.html">Fixnum</a>, <a href="Bignum.html">Bignum</a>, <a
href="Array.html">Array</a> and <a href="Hash.html">Hash</a> that allow
conversion to and from “bencoded” strings.</p>

    </div><!-- description -->

    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="bdecode-method" class="method-detail ">
          <a name="method-i-bdecode"></a>

          
          <div class="method-heading">
            <span class="method-name">bdecode</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Decode the string and return the object that it represents. In the case
that the string contains more than one adjacent objects, an array of all
adjacent objects is returned. If the string is not a valid bencoded string,
nil is returned. example:</p>

<pre>&quot;d4:testli1ei2ei3eeel1:a1:b1:ce&quot;.bdecode #=&gt; [{&quot;test&quot;=&gt;[1, 2, 3]}, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]]
&quot;d1:ai1e1:bi2e1:ci3ee&quot;.bdecode           #=&gt; {&quot;a&quot;=&gt;1,&quot;b&quot;=&gt;2,&quot;c&quot;=&gt;3}</pre>
            

            
            <div class="method-source-code" id="bdecode-source">
<pre>
<span class="ruby-comment"># File lib/bencode.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bdecode</span>
  <span class="ruby-ivar">@index</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">data</span> = []
  <span class="ruby-keyword">while</span> <span class="ruby-ivar">@index</span> <span class="ruby-operator">&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-identifier">data</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">case</span> <span class="ruby-keyword">self</span>[<span class="ruby-ivar">@index</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\d/</span>
       <span class="ruby-identifier">decode_str</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'l'</span>
      <span class="ruby-identifier">decode_list</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'i'</span>
      <span class="ruby-identifier">decode_int</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'d'</span>
      <span class="ruby-identifier">decode_dict</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Cannot bdecode invalid string.&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@index</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@index</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">data</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">data</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>[<span class="ruby-value">0</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- bdecode-source -->
            
          </div>

          

          
        </div><!-- bdecode-method -->

      
        <div id="bencode-method" class="method-detail ">
          <a name="method-i-bencode"></a>

          
          <div class="method-heading">
            <span class="method-name">bencode</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Bencode a <a href="String.html">String</a>.</p>
            

            
            <div class="method-source-code" id="bencode-source">
<pre>
<span class="ruby-comment"># File lib/bencode.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bencode</span>
  <span class="ruby-node">&quot;#{self.length}:#{self}&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- bencode-source -->
            
          </div>

          

          
        </div><!-- bencode-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

